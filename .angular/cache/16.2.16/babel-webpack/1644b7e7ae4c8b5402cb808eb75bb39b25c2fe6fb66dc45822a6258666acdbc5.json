{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/historico.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"../directives/highlight.directive\";\nimport * as i6 from \"ngx-pagination\";\nimport * as i7 from \"../pipes/temperatura.pipe\";\nfunction HistoricoClimaPage_ion_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 10);\n    i0.ɵɵlistener(\"click\", function HistoricoClimaPage_ion_button_7_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.limparHistorico());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 11);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HistoricoClimaPage_ion_card_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 12)(1, \"ion-card-content\")(2, \"div\", 13);\n    i0.ɵɵelement(3, \"ion-icon\", 14);\n    i0.ɵɵelementStart(4, \"h2\");\n    i0.ɵɵtext(5, \"Nenhuma busca realizada\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \"Suas pesquisas de clima aparecer\\u00E3o aqui.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-button\", 15);\n    i0.ɵɵelement(9, \"ion-icon\", 16);\n    i0.ɵɵtext(10, \" Fazer primeira busca \");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction HistoricoClimaPage_div_15_ion_item_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 20)(1, \"div\", 21)(2, \"div\", 22)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 23);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 24);\n    i0.ɵɵelement(8, \"img\", 25);\n    i0.ɵɵelementStart(9, \"div\", 26);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"temperatura\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 27);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 28)(16, \"ion-button\", 29);\n    i0.ɵɵlistener(\"click\", function HistoricoClimaPage_div_15_ion_item_8_Template_ion_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const item_r7 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.verDetalhes(item_r7.cidade));\n    });\n    i0.ɵɵelement(17, \"ion-icon\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"ion-button\", 31);\n    i0.ɵɵlistener(\"click\", function HistoricoClimaPage_div_15_ion_item_8_Template_ion_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const i_r8 = restoredCtx.index;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.removerItem(i_r8));\n    });\n    i0.ɵɵelement(19, \"ion-icon\", 11);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r7.cidade);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.formatarData(item_r7.data));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", \"https://openweathermap.org/img/wn/\" + item_r7.icone + \"@2x.png\", i0.ɵɵsanitizeUrl)(\"alt\", item_r7.descricao);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 6, item_r7.temperatura), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 8, item_r7.descricao), \" \");\n  }\n}\nfunction HistoricoClimaPage_div_15_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"pagination-controls\", 33);\n    i0.ɵɵlistener(\"pageChange\", function HistoricoClimaPage_div_15_div_9_Template_pagination_controls_pageChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.onPageChange($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HistoricoClimaPage_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"ion-card\", 17)(2, \"ion-card-content\")(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"ion-list\");\n    i0.ɵɵtemplate(8, HistoricoClimaPage_div_15_ion_item_8_Template, 20, 10, \"ion-item\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, HistoricoClimaPage_div_15_div_9_Template, 2, 0, \"div\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Total de buscas: \", ctx_r2.totalItens, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"P\\u00E1gina \", ctx_r2.paginaAtual, \" de \", ctx_r2.Math.ceil(ctx_r2.totalItens / ctx_r2.itensPorPagina), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.historico);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.totalItens > ctx_r2.itensPorPagina);\n  }\n}\nexport let HistoricoClimaPage = /*#__PURE__*/(() => {\n  class HistoricoClimaPage {\n    constructor(historicoService, router) {\n      this.historicoService = historicoService;\n      this.router = router;\n      // Referência ao objeto Math para uso no template\n      this.Math = Math;\n      // Histórico de buscas\n      this.historico = [];\n      // Configurações de paginação\n      this.paginaAtual = 1;\n      this.itensPorPagina = 10;\n      this.totalItens = 0;\n    }\n    ngOnInit() {\n      this.carregarHistorico();\n    }\n    /**\r\n     * Carrega o histórico de buscas com paginação\r\n     */\n    carregarHistorico() {\n      const resultado = this.historicoService.obterHistoricoPaginado(this.paginaAtual, this.itensPorPagina);\n      this.historico = resultado.itens;\n      this.totalItens = resultado.totalItens;\n    }\n    /**\r\n     * Navega para a página de detalhes do clima da cidade selecionada\r\n     */\n    verDetalhes(cidade) {\n      this.router.navigate(['/detalhes-clima', cidade]);\n    }\n    /**\r\n     * Remove um item do histórico\r\n     */\n    removerItem(index) {\n      const itemIndex = (this.paginaAtual - 1) * this.itensPorPagina + index;\n      this.historicoService.removerItem(itemIndex);\n      this.carregarHistorico();\n    }\n    /**\r\n     * Limpa todo o histórico\r\n     */\n    limparHistorico() {\n      this.historicoService.limparHistorico();\n      this.carregarHistorico();\n    }\n    /**\r\n     * Manipula a mudança de página\r\n     */\n    onPageChange(pagina) {\n      this.paginaAtual = pagina;\n      this.carregarHistorico();\n    }\n    /**\r\n     * Formata a data para exibição\r\n     */\n    formatarData(data) {\n      return new Date(data).toLocaleString('pt-BR', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    }\n    static {\n      this.ɵfac = function HistoricoClimaPage_Factory(t) {\n        return new (t || HistoricoClimaPage)(i0.ɵɵdirectiveInject(i1.HistoricoService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: HistoricoClimaPage,\n        selectors: [[\"app-historico-clima\"]],\n        decls: 16,\n        vars: 5,\n        consts: [[3, \"translucent\"], [\"slot\", \"start\"], [\"slot\", \"end\"], [3, \"click\", 4, \"ngIf\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [1, \"container\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"click\"], [\"name\", \"trash\"], [1, \"empty-state\"], [1, \"empty-content\"], [\"name\", \"time\", \"size\", \"large\", \"color\", \"medium\"], [\"routerLink\", \"/home\", \"fill\", \"outline\"], [\"name\", \"search\", \"slot\", \"start\"], [1, \"historico-info\"], [\"class\", \"historico-item\", \"appHighlight\", \"lightblue\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"pagination-container\", 4, \"ngIf\"], [\"appHighlight\", \"lightblue\", 1, \"historico-item\"], [1, \"item-content\"], [1, \"cidade-info\"], [1, \"data\"], [1, \"clima-info\"], [1, \"weather-icon\", 3, \"src\", \"alt\"], [1, \"temperatura\"], [1, \"descricao\"], [1, \"acoes\"], [\"fill\", \"clear\", \"size\", \"small\", 3, \"click\"], [\"name\", \"information-circle\"], [\"fill\", \"clear\", \"size\", \"small\", \"color\", \"danger\", 3, \"click\"], [1, \"pagination-container\"], [\"previousLabel\", \"Anterior\", \"nextLabel\", \"Pr\\u00F3ximo\", \"screenReaderPaginationLabel\", \"Pagina\\u00E7\\u00E3o\", \"screenReaderPageLabel\", \"p\\u00E1gina\", \"screenReaderCurrentLabel\", \"Voc\\u00EA est\\u00E1 na p\\u00E1gina\", 3, \"pageChange\"]],\n        template: function HistoricoClimaPage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-buttons\", 1);\n            i0.ɵɵelement(3, \"ion-menu-button\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"ion-title\");\n            i0.ɵɵtext(5, \" Hist\\u00F3rico de Buscas \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"ion-buttons\", 2);\n            i0.ɵɵtemplate(7, HistoricoClimaPage_ion_button_7_Template, 2, 0, \"ion-button\", 3);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(8, \"ion-content\", 4)(9, \"ion-header\", 5)(10, \"ion-toolbar\")(11, \"ion-title\", 6);\n            i0.ɵɵtext(12, \"Hist\\u00F3rico\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(13, \"div\", 7);\n            i0.ɵɵtemplate(14, HistoricoClimaPage_ion_card_14_Template, 11, 0, \"ion-card\", 8);\n            i0.ɵɵtemplate(15, HistoricoClimaPage_div_15_Template, 10, 5, \"div\", 9);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"translucent\", true);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngIf\", ctx.historico.length > 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"fullscreen\", true);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngIf\", ctx.historico.length === 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.historico.length > 0);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i4.IonButton, i4.IonButtons, i4.IonCard, i4.IonCardContent, i4.IonContent, i4.IonHeader, i4.IonIcon, i4.IonItem, i4.IonList, i4.IonMenuButton, i4.IonTitle, i4.IonToolbar, i4.RouterLinkDelegate, i5.HighlightDirective, i2.RouterLink, i6.PaginationControlsComponent, i3.TitleCasePipe, i7.TemperaturaPipe],\n        styles: [\".container[_ngcontent-%COMP%]{padding:16px}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:40px 20px;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:8px;color:var(--ion-color-dark)}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:24px}.historico-info[_ngcontent-%COMP%]{margin-bottom:16px;background:var(--ion-color-light)}.historico-info[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px}.historico-info[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium);font-size:.9rem}.historico-item[_ngcontent-%COMP%]{margin-bottom:8px;--padding-start: 0;--padding-end: 0;--inner-padding-end: 0}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding:12px 16px}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .cidade-info[_ngcontent-%COMP%]{flex:2}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .cidade-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1.1rem;color:var(--ion-color-dark)}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .cidade-info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:var(--ion-color-medium)}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .clima-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .clima-info[_ngcontent-%COMP%]   .weather-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:8px}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .clima-info[_ngcontent-%COMP%]   .temperatura[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:var(--ion-color-primary)}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]{flex:2;text-align:center;font-size:.9rem;color:var(--ion-color-medium)}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .acoes[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end;gap:8px}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .acoes[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}.pagination-container[_ngcontent-%COMP%]     .ngx-pagination{padding:0;margin:0}.pagination-container[_ngcontent-%COMP%]     .ngx-pagination .current{background:var(--ion-color-primary)!important}.pagination-container[_ngcontent-%COMP%]     .ngx-pagination a{color:var(--ion-color-dark)}.pagination-container[_ngcontent-%COMP%]     .ngx-pagination a:hover{background:var(--ion-color-light)}@media (min-width: 768px){.container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .cidade-info[_ngcontent-%COMP%]{flex:3}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .clima-info[_ngcontent-%COMP%]{flex:2}.historico-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]{flex:3}}.historico-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInLeft .3s ease-out}@keyframes _ngcontent-%COMP%_slideInLeft{0%{transform:translate(-20px);opacity:0}to{transform:translate(0);opacity:1}}@media (hover: hover){.historico-item[_ngcontent-%COMP%]:hover{--background: var(--ion-color-light)}}\"]\n      });\n    }\n  }\n  return HistoricoClimaPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}