{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/fabio/Desktop/Projetos de Marlon Desenvolvimento Mobile/climaja-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/clima.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction HomePage_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelement(1, \"ion-spinner\", 11);\n    i0.ɵɵelementStart(2, \"p\", 12);\n    i0.ɵɵtext(3, \"Carregando dados do clima...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HomePage_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"h1\", 15);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 16)(5, \"span\", 17);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 18);\n    i0.ɵɵelement(9, \"img\", 19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"p\", 20);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\", 21);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 22)(17, \"div\", 23)(18, \"div\", 24);\n    i0.ɵɵtext(19, \"Visibilidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 25);\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 23)(24, \"div\", 24);\n    i0.ɵɵtext(25, \"Umidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 25);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 23)(29, \"div\", 24);\n    i0.ɵɵtext(30, \"Press\\u00E3o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 25);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 23)(34, \"div\", 24);\n    i0.ɵɵtext(35, \"Vento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"div\", 25);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(38, \"ion-button\", 26);\n    i0.ɵɵlistener(\"click\", function HomePage_div_12_Template_ion_button_click_38_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.verDetalhes());\n    });\n    i0.ɵɵtext(39, \" Ver Detalhes Completos \");\n    i0.ɵɵelement(40, \"ion-icon\", 27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.climaAtual.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(7, 10, ctx_r1.climaAtual.main.temp, \"1.0-0\"), \"\\u00B0C\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r1.getIconeClima(ctx_r1.climaAtual.weather[0].icon), i0.ɵɵsanitizeUrl)(\"alt\", ctx_r1.climaAtual.weather[0].description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 13, ctx_r1.climaAtual.weather[0].description), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Sensa\\u00E7\\u00E3o t\\u00E9rmica \", i0.ɵɵpipeBind2(15, 15, ctx_r1.climaAtual.main.feels_like, \"1.0-0\"), \"\\u00B0C \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(22, 18, ctx_r1.climaAtual.visibility / 1000, \"1.1-1\"), \" km\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.climaAtual.main.humidity, \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.climaAtual.main.pressure, \" hPa\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.climaAtual.wind.speed, \" m/s\");\n  }\n}\nfunction HomePage_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"\\u26A0\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"Erro ao carregar dados\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-button\", 30);\n    i0.ɵɵlistener(\"click\", function HomePage_div_13_Template_ion_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.buscarClima());\n    });\n    i0.ɵɵtext(8, \" Tentar Novamente \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r2.erro);\n  }\n}\nfunction HomePage_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"div\", 32);\n    i0.ɵɵtext(2, \"\\uD83C\\uDF24\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"Bem-vindo ao ClimaJ\\u00E1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"Busque por uma cidade para ver a previs\\u00E3o do tempo\");\n    i0.ɵɵelementEnd()();\n  }\n}\nlet HomePage = /*#__PURE__*/(() => {\n  class HomePage {\n    constructor(climaService, router, loadingController, alertController) {\n      this.climaService = climaService;\n      this.router = router;\n      this.loadingController = loadingController;\n      this.alertController = alertController;\n      // Propriedades para busca\n      this.cidade = '';\n      // Dados do clima atual\n      this.climaAtual = null;\n      // Estados da aplicação\n      this.carregando = false;\n      this.erro = '';\n    }\n    ngOnInit() {\n      // Página inicial carregada\n    }\n    // Manipula o evento de input da busca\n    onSearchInput(event) {\n      this.cidade = event.target.value;\n    }\n    // Buscar clima por cidade\n    buscarClima() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (!_this.cidade.trim()) {\n          _this.mostrarErro('Por favor, digite o nome de uma cidade');\n          return;\n        }\n        _this.carregando = true;\n        _this.erro = '';\n        try {\n          // Buscar dados do clima atual\n          const clima = yield _this.climaService.getClima(_this.cidade).toPromise();\n          _this.climaAtual = clima;\n          // Salvar no localStorage para histórico\n          const historico = JSON.parse(localStorage.getItem('historico') || '[]');\n          historico.unshift({\n            cidade: _this.cidade,\n            temperatura: clima.main.temp,\n            descricao: clima.weather[0].description,\n            data: new Date().toISOString()\n          });\n          // Manter apenas os últimos 10 registros\n          if (historico.length > 10) {\n            historico.splice(10);\n          }\n          localStorage.setItem('historico', JSON.stringify(historico));\n          // Limpar campo de busca\n          _this.cidade = '';\n        } catch (error) {\n          console.error('Erro ao buscar clima:', error);\n          _this.mostrarErro('Cidade não encontrada. Verifique o nome e tente novamente.');\n        } finally {\n          _this.carregando = false;\n        }\n      })();\n    }\n    // Navegar para detalhes\n    verDetalhes() {\n      if (this.climaAtual) {\n        this.router.navigate(['/detalhes-clima'], {\n          queryParams: {\n            cidade: this.climaAtual.name\n          }\n        });\n      }\n    }\n    // Mostrar erro\n    mostrarErro(mensagem) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const alert = yield _this2.alertController.create({\n          header: 'Erro',\n          message: mensagem,\n          buttons: ['OK']\n        });\n        yield alert.present();\n      })();\n    }\n    // Obter URL do ícone do clima\n    getIconeClima(icone) {\n      return `https://openweathermap.org/img/wn/${icone}@2x.png`;\n    }\n    static {\n      this.ɵfac = function HomePage_Factory(t) {\n        return new (t || HomePage)(i0.ɵɵdirectiveInject(i1.ClimaService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.LoadingController), i0.ɵɵdirectiveInject(i3.AlertController));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: HomePage,\n        selectors: [[\"app-home\"]],\n        decls: 15,\n        vars: 6,\n        consts: [[1, \"custom-header\"], [\"slot\", \"start\"], [1, \"search-section\"], [\"placeholder\", \"Buscar cidade\", \"debounce\", \"500\", \"showCancelButton\", \"never\", 3, \"ngModel\", \"ngModelChange\", \"ionInput\", \"keydown.enter\"], [\"fill\", \"clear\", 1, \"search-btn\", 3, \"disabled\", \"click\"], [\"name\", \"search-outline\", \"slot\", \"icon-only\"], [\"class\", \"loading-container\", 4, \"ngIf\"], [\"class\", \"main-weather animate-in\", 4, \"ngIf\"], [\"class\", \"glass-card error-state\", 4, \"ngIf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [1, \"loading-container\"], [\"name\", \"crescent\", \"color\", \"primary\"], [1, \"loading-text\"], [1, \"main-weather\", \"animate-in\"], [1, \"location-section\"], [1, \"city-name\"], [1, \"temperature-section\"], [1, \"temperature-display\"], [1, \"weather-icon-container\"], [1, \"main-weather-icon\", 3, \"src\", \"alt\"], [1, \"weather-description\"], [1, \"feels-like\"], [1, \"glass-card\", \"weather-details\"], [1, \"detail-card\"], [1, \"detail-label\"], [1, \"detail-value\"], [\"expand\", \"block\", \"fill\", \"outline\", 1, \"details-btn\", 3, \"click\"], [\"name\", \"chevron-forward-outline\", \"slot\", \"end\"], [1, \"glass-card\", \"error-state\"], [1, \"error-icon\"], [\"fill\", \"clear\", 3, \"click\"], [1, \"empty-state\"], [1, \"empty-icon\"]],\n        template: function HomePage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-buttons\", 1);\n            i0.ɵɵelement(3, \"ion-menu-button\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"ion-title\");\n            i0.ɵɵtext(5, \"ClimaJ\\u00E1\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(6, \"ion-content\")(7, \"div\", 2)(8, \"ion-searchbar\", 3);\n            i0.ɵɵlistener(\"ngModelChange\", function HomePage_Template_ion_searchbar_ngModelChange_8_listener($event) {\n              return ctx.cidade = $event;\n            })(\"ionInput\", function HomePage_Template_ion_searchbar_ionInput_8_listener($event) {\n              return ctx.onSearchInput($event);\n            })(\"keydown.enter\", function HomePage_Template_ion_searchbar_keydown_enter_8_listener() {\n              return ctx.buscarClima();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"ion-button\", 4);\n            i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_9_listener() {\n              return ctx.buscarClima();\n            });\n            i0.ɵɵelement(10, \"ion-icon\", 5);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(11, HomePage_div_11_Template, 4, 0, \"div\", 6);\n            i0.ɵɵtemplate(12, HomePage_div_12_Template, 41, 21, \"div\", 7);\n            i0.ɵɵtemplate(13, HomePage_div_13_Template, 9, 1, \"div\", 8);\n            i0.ɵɵtemplate(14, HomePage_div_14_Template, 7, 0, \"div\", 9);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngModel\", ctx.cidade);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"disabled\", ctx.carregando || !ctx.cidade.trim());\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.carregando);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.climaAtual && !ctx.carregando);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.erro && !ctx.carregando);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.climaAtual && !ctx.carregando && !ctx.erro);\n          }\n        },\n        dependencies: [i4.NgIf, i5.NgControlStatus, i5.NgModel, i3.IonButton, i3.IonButtons, i3.IonContent, i3.IonHeader, i3.IonIcon, i3.IonMenuButton, i3.IonSearchbar, i3.IonSpinner, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor, i4.DecimalPipe, i4.TitleCasePipe],\n        styles: [\".custom-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--border-color: transparent}.search-section[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;gap:8px}.search-section[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .1);--border-radius: 8px;--placeholder-color: rgba(255, 255, 255, .7);--color: white}.search-section[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px;gap:16px}.loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.main-weather[_ngcontent-%COMP%]{padding:16px}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .city-name[_ngcontent-%COMP%]{font-size:24px;margin-bottom:8px}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temperature-display[_ngcontent-%COMP%]{font-size:48px;font-weight:700}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .weather-icon-container[_ngcontent-%COMP%]{width:64px;height:64px}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .weather-icon-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .weather-description[_ngcontent-%COMP%]{font-size:18px;margin:8px 0}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .feels-like[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.glass-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px;padding:16px;margin:16px}.glass-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.glass-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{text-align:center;padding:12px}.glass-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:14px;margin-bottom:4px}.glass-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.details-btn[_ngcontent-%COMP%]{margin:16px}.error-state[_ngcontent-%COMP%]{text-align:center;padding:32px 16px}.error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-danger);margin-bottom:8px}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:32px 16px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.animate-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}\"]\n      });\n    }\n  }\n  return HomePage;\n})();\nexport { HomePage };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}