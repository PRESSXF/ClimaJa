"use strict";(self.webpackChunkclimaja_app=self.webpackChunkclimaja_app||[]).push([[5075],{5075:(F,g,r)=>{r.r(g),r.d(g,{HomePageModule:()=>v});var c=r(177),i=r(8974),l=r(4341),d=r(6565),p=r(467),t=r(6276),u=r(237);function h(a,m){1&a&&(t.j41(0,"div",10),t.nrm(1,"ion-spinner",11),t.j41(2,"p",12),t.EFF(3,"Carregando dados do clima..."),t.k0s()())}function C(a,m){if(1&a){const e=t.RV6();t.j41(0,"div",13)(1,"div",14)(2,"h1",15),t.EFF(3),t.k0s(),t.j41(4,"div",16)(5,"span",17),t.EFF(6),t.nI1(7,"number"),t.k0s(),t.j41(8,"div",18),t.nrm(9,"img",19),t.k0s()(),t.j41(10,"p",20),t.EFF(11),t.nI1(12,"titlecase"),t.k0s(),t.j41(13,"p",21),t.EFF(14),t.nI1(15,"number"),t.k0s()(),t.j41(16,"div",22)(17,"div",23)(18,"div",24),t.EFF(19,"Visibilidade"),t.k0s(),t.j41(20,"div",25),t.EFF(21),t.nI1(22,"number"),t.k0s()(),t.j41(23,"div",23)(24,"div",24),t.EFF(25,"Umidade"),t.k0s(),t.j41(26,"div",25),t.EFF(27),t.k0s()(),t.j41(28,"div",23)(29,"div",24),t.EFF(30,"Press\xe3o"),t.k0s(),t.j41(31,"div",25),t.EFF(32),t.k0s()(),t.j41(33,"div",23)(34,"div",24),t.EFF(35,"Vento"),t.k0s(),t.j41(36,"div",25),t.EFF(37),t.k0s()()(),t.j41(38,"ion-button",26),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.verDetalhes())}),t.EFF(39," Ver Detalhes Completos "),t.nrm(40,"ion-icon",27),t.k0s()()}if(2&a){const e=t.XpG();t.R7$(3),t.JRh(e.climaAtual.name),t.R7$(3),t.SpI("",t.i5U(7,10,e.climaAtual.main.temp,"1.0-0"),"\xb0C"),t.R7$(3),t.Y8G("src",e.getIconeClima(e.climaAtual.weather[0].icon),t.B4B)("alt",e.climaAtual.weather[0].description),t.R7$(2),t.SpI(" ",t.bMT(12,13,e.climaAtual.weather[0].description)," "),t.R7$(3),t.SpI(" Sensa\xe7\xe3o t\xe9rmica ",t.i5U(15,15,e.climaAtual.main.feels_like,"1.0-0"),"\xb0C "),t.R7$(7),t.SpI("",t.i5U(22,18,e.climaAtual.visibility/1e3,"1.1-1")," km"),t.R7$(6),t.SpI("",e.climaAtual.main.humidity,"%"),t.R7$(5),t.SpI("",e.climaAtual.main.pressure," hPa"),t.R7$(5),t.SpI("",e.climaAtual.wind.speed," m/s")}}function P(a,m){if(1&a){const e=t.RV6();t.j41(0,"div",28)(1,"div",29),t.EFF(2,"\u26a0\ufe0f"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"Erro ao carregar dados"),t.k0s(),t.j41(5,"p"),t.EFF(6),t.k0s(),t.j41(7,"ion-button",30),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.buscarClima())}),t.EFF(8," Tentar Novamente "),t.k0s()()}if(2&a){const e=t.XpG();t.R7$(6),t.JRh(e.erro)}}function _(a,m){1&a&&(t.j41(0,"div",31)(1,"div",32),t.EFF(2,"\u{1f324}\ufe0f"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"Bem-vindo ao ClimaJ\xe1"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Busque por uma cidade para ver a previs\xe3o do tempo"),t.k0s()())}const M=[{path:"",component:(()=>{class a{constructor(e,o,n,s){this.climaService=e,this.router=o,this.loadingController=n,this.alertController=s,this.cidade="",this.climaAtual=null,this.carregando=!1,this.erro=""}ngOnInit(){}buscarClima(){var e=this;return(0,p.A)(function*(){e.cidade.trim()?(e.carregando=!0,e.erro="",e.climaService.getClima(e.cidade).subscribe({next:o=>{e.climaAtual=o;const n=JSON.parse(localStorage.getItem("historico")||"[]");n.unshift({cidade:e.cidade,temperatura:o.main.temp,descricao:o.weather[0].description,data:(new Date).toISOString()}),n.length>10&&n.splice(10),localStorage.setItem("historico",JSON.stringify(n)),e.cidade="",e.carregando=!1},error:o=>{console.error("Erro ao buscar clima:",o),e.erro="Cidade n\xe3o encontrada. Verifique o nome e tente novamente.",e.carregando=!1}})):e.mostrarErro("Por favor, digite o nome de uma cidade")})()}verDetalhes(){this.climaAtual&&this.router.navigate(["/detalhes-clima"],{queryParams:{cidade:this.climaAtual.name}})}mostrarErro(e){var o=this;return(0,p.A)(function*(){yield(yield o.alertController.create({header:"Erro",message:e,buttons:["OK"]})).present()})()}getIconeClima(e){return`https://openweathermap.org/img/wn/${e}@2x.png`}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(u.M),t.rXU(d.Ix),t.rXU(i.Xi),t.rXU(i.hG))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-home"]],decls:15,vars:6,consts:[[1,"custom-header"],["slot","start"],[1,"search-section"],["placeholder","Buscar cidade","debounce","500","showCancelButton","never",3,"ngModel","ngModelChange","keydown.enter"],["fill","clear",1,"search-btn",3,"disabled","click"],["name","search-outline","slot","icon-only"],["class","loading-container",4,"ngIf"],["class","main-weather animate-in",4,"ngIf"],["class","glass-card error-state",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"loading-container"],["name","crescent","color","primary"],[1,"loading-text"],[1,"main-weather","animate-in"],[1,"location-section"],[1,"city-name"],[1,"temperature-section"],[1,"temperature-display"],[1,"weather-icon-container"],[1,"main-weather-icon",3,"src","alt"],[1,"weather-description"],[1,"feels-like"],[1,"glass-card","weather-details"],[1,"detail-card"],[1,"detail-label"],[1,"detail-value"],["expand","block","fill","outline",1,"details-btn",3,"click"],["name","chevron-forward-outline","slot","end"],[1,"glass-card","error-state"],[1,"error-icon"],["fill","clear",3,"click"],[1,"empty-state"],[1,"empty-icon"]],template:function(o,n){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.nrm(3,"ion-menu-button"),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"ClimaJ\xe1"),t.k0s()()(),t.j41(6,"ion-content")(7,"div",2)(8,"ion-searchbar",3),t.bIt("ngModelChange",function(b){return n.cidade=b})("keydown.enter",function(){return n.buscarClima()}),t.k0s(),t.j41(9,"ion-button",4),t.bIt("click",function(){return n.buscarClima()}),t.nrm(10,"ion-icon",5),t.k0s()(),t.DNE(11,h,4,0,"div",6),t.DNE(12,C,41,21,"div",7),t.DNE(13,P,9,1,"div",8),t.DNE(14,_,7,0,"div",9),t.k0s()),2&o&&(t.R7$(8),t.Y8G("ngModel",n.cidade),t.R7$(1),t.Y8G("disabled",n.carregando),t.R7$(2),t.Y8G("ngIf",n.carregando),t.R7$(1),t.Y8G("ngIf",n.climaAtual&&!n.carregando),t.R7$(1),t.Y8G("ngIf",n.erro&&!n.carregando),t.R7$(1),t.Y8G("ngIf",!n.climaAtual&&!n.carregando&&!n.erro))},dependencies:[c.bT,l.BC,l.vS,i.Jm,i.QW,i.W9,i.eU,i.iq,i.MC,i.S1,i.w2,i.BC,i.ai,i.Gw,c.QX,c.PV],styles:[".custom-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--border-color: transparent}.search-section[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;gap:8px}.search-section[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .1);--border-radius: 8px;--placeholder-color: rgba(255, 255, 255, .7);--color: white}.search-section[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px;gap:16px}.loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.main-weather[_ngcontent-%COMP%]{padding:16px}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .city-name[_ngcontent-%COMP%]{font-size:24px;margin-bottom:8px}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .temperature-display[_ngcontent-%COMP%]{font-size:48px;font-weight:700}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .weather-icon-container[_ngcontent-%COMP%]{width:64px;height:64px}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .temperature-section[_ngcontent-%COMP%]   .weather-icon-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .weather-description[_ngcontent-%COMP%]{font-size:18px;margin:8px 0}.main-weather[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]   .feels-like[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.glass-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px;padding:16px;margin:16px}.glass-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.glass-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{text-align:center;padding:12px}.glass-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:14px;margin-bottom:4px}.glass-card[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.details-btn[_ngcontent-%COMP%]{margin:16px}.error-state[_ngcontent-%COMP%]{text-align:center;padding:32px 16px}.error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-danger);margin-bottom:8px}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:32px 16px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.animate-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}}return a})()}];let f=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[d.iI.forChild(M),d.iI]})}}return a})();var O=r(3887);let v=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[c.MD,l.YN,i.bv,f,O.G]})}}return a})()}}]);